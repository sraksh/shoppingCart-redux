{"version":3,"sources":["images/loader.gif","components/Header/Header.js","components/ProductListItem/ProductListItem.js","components/ProductList/ProductList.js","components/CartSummary/CartSummary.js","components/Loader/Loader.js","actions/index.js","App.js","reducers/productItems.js","reducers/cartItems.js","reducers/index.js","sagas/saga.js","store/index.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","react_default","a","createElement","className","data-testid","Component","ProductListItem","addProductToCart","data","_this","props","actions","addItem","removeProductFromCart","id","removeItem","_this2","this","src","product","image","alt","name","price","isAddedToCart","onClick","ProductList","getProducts","productItems","length","map","item","components_ProductListItem_ProductListItem","Object","assign","key","CartSummary","total","cartItems","reduce","b","items","currency","emptyBlock","itemsList","Loader","loading","img","React","type","App","components_Header_Header","components_Loader_Loader","components_ProductList_ProductList","components_CartSummary_CartSummary","connect","state","dispatch","bindActionCreators","Actions","initialState","arguments","undefined","action","objectSpread","concat","toConsumableArray","payload","find","filter","element","rootReducer","combineReducers","fetchProducts","actionWatcher","rootSaga","URL","res","regenerator_default","wrap","_context","prev","next","axios","get","then","response","sent","put","stop","_marked","_context2","takeLatest","_marked2","_context3","all","_marked3","sagaMiddleware","createSagaMiddleware","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","logger","store","createStore","run","wrapper","es","src_App_0","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0f315d8b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loader.91931453.gif\";","import React, { Component } from 'react';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"common-header-wrapper\">\r\n        <header className=\"common-header\">\r\n          <h1 data-testid=\"header-display\">Shopping Cart</h1>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React, { Component } from 'react';\r\nimport './ProductListItem.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ProductListItem extends Component {\r\n  \r\n  addProductToCart = (data) => {\r\n    this.props.actions.addItem(data);\r\n  }\r\n  removeProductFromCart = (id) => {\r\n    this.props.actions.removeItem(id);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <img className=\"card-img-top\" src={this.props.product.image} alt=\"Card cap\" />\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title\" data-testid=\"card-title\">{this.props.product.name}</h5>\r\n          <p className=\"card-text\" data-testid=\"card-text\">{this.props.product.price}</p>\r\n        </div>\r\n        <button data-testid=\"product-action-button\" className={this.props.product.isAddedToCart ? \"btn btn-danger\" : \"btn btn-primary\"} onClick={this.props.product.isAddedToCart ? () => this.removeProductFromCart(this.props.product.id) : () => this.addProductToCart(this.props.product) }> {this.props.product.isAddedToCart ? \"Remove\" : \"Add To Cart\"} </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nProductListItem.propTypes = {\r\n  product: PropTypes.object,\r\n  actions: PropTypes.object\r\n};\r\n\r\nexport default ProductListItem;\r\n","import React, { Component } from 'react';\r\nimport './ProductList.css';\r\nimport ProductListItem from '../ProductListItem/ProductListItem.js';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ProductList extends Component {\r\n  \r\n  componentDidMount() {\r\n    this.props.actions.getProducts();\r\n  }\r\n\r\n  render() {\r\n    if(this.props.productItems.productItems.length) {\r\n      var productItems = this.props.productItems.productItems[0].map(item => { \r\n        return (\r\n          <ProductListItem \r\n            { ...this.props }\r\n            product = {item}\r\n            key = {item.id}\r\n          />\r\n        );\r\n      });\r\n\r\n      return(\r\n        <div className=\"products-container\">\r\n          { productItems }\r\n        </div>\r\n      );\r\n    }\r\n    else {\r\n      return(<div>Loading.....</div>);\r\n    }\r\n  }\r\n}\r\n\r\nProductList.propTypes = {\r\n  productItems: PropTypes.object,\r\n  actions: PropTypes.object\r\n};\r\n\r\nexport default ProductList;\r\n","import React, { Component } from 'react';\r\nimport './CartSummary.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass CartSummary extends Component {\r\n  \r\n  render() {\r\n    var total = this.props.cartItems.cartItems.reduce((a, b) => {\r\n      return a + b.price;\r\n    }, 0);\r\n\r\n    var items = this.props.cartItems.cartItems.map(item => {\r\n      return (\r\n        <li key={item.id} className=\"cart-item list-group-item\">\r\n          <span className=\"cart-item__name\">{item.name}</span>\r\n          <span className=\"cart-item__price\">{item.price} {item.currency}</span>\r\n        </li>\r\n      );\r\n    });\r\n\r\n    var emptyBlock = (\r\n      <div className=\"alert alert-info\">Cart is empty</div>\r\n    );\r\n    \r\n    var itemsList = (\r\n      <ul className=\"list-group list-group-flush\">\r\n        {items}\r\n      </ul>\r\n    );\r\n\r\n    return (\r\n      <div className=\"card-summary-container\">\r\n        <h5 className=\"card-summary\">Cart summary</h5>\r\n        {this.props.cartItems.cartItems.length ? itemsList : emptyBlock}\r\n        <div className=\"cart__total list-group-item\">\r\n          <span className=\"cart__total__text\">Total:</span>\r\n          <span className=\"cart__total__amount\">{total} EUR</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCartSummary.propTypes = {\r\n  cartItems: PropTypes.object\r\n};\r\n\r\nexport default CartSummary;\r\n","import React from 'react';\r\n// import { connect } from 'react-redux'\r\nimport img from '../../images/loader.gif'\r\nclass Loader extends React.Component {\r\n   render() {\r\n      return (\r\n         <div>\r\n            { this.props.productItems.loading ? ( <img src={img} alt='loading' /> ) : null }\r\n         </div>\r\n      )\r\n   }\r\n}\r\nexport default Loader;","\r\nexport const addItem = (data) => ({\r\n  type: 'ADD_ITEM',\r\n  data\r\n});\r\n\r\nexport const removeItem = id => ({\r\n  type: 'REMOVE_ITEM',\r\n  id\r\n});\r\n\r\n\r\nexport const getProducts = () => ({\r\n  type: 'GET_PRODUCTS'\r\n});\r\n","import React, { Component } from 'react';\n// import logo from './logo.svg';\nimport PropTypes from 'prop-types';\nimport Header from './components/Header/Header.js';\nimport ProductList from './components/ProductList/ProductList.js';\nimport CartSummary from './components/CartSummary/CartSummary.js';\nimport Loader from './components/Loader/Loader'\n\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as Actions from './actions';\n\nimport './App.css';\n\nconst mapStateToProps = state => ({\n  productItems: state.productItems,\n  cartItems: state.cartItems,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(Actions, dispatch)\n});\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Header />\n        <div className=\"shopping-cart-container\">\n          <Loader {...this.props}/>\n          <ProductList {...this.props}/>\n          <CartSummary cartItems={this.props.cartItems}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  cartItems: PropTypes.object\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// import * as action from '../constants/actions';\r\n\r\nlet initialState = {\r\n  productItems: []\r\n};\r\n\r\n\r\nfunction productItems(state=initialState, action) {\r\n  switch(action.type) {\r\n  case 'GET_PRODUCTS':\r\n    return { ...state, loading: true };\r\n  case 'FETCH_PRODUCTS':\r\n    return {\r\n      ...state,\r\n      productItems: [...state.productItems, action.payload.data],\r\n      loading: false\r\n    };\r\n\r\n  default:\r\n    return state;\r\n  }\r\n}\r\n\r\nexport default productItems;\r\n","let initialState = {\r\n  cartItems: []\r\n};\r\n\r\nfunction cartItems(state=initialState, action) {\r\n  switch(action.type) {\r\n  case 'ADD_ITEM':\r\n    action.data.isAddedToCart = true;\r\n    return {\r\n      cartItems: [...state.cartItems, action.data]\r\n    };\r\n  case 'REMOVE_ITEM':\r\n    var product = state.cartItems.find(product => product.id === action.id);\r\n    product.isAddedToCart = false;\r\n    return {\r\n      cartItems: state.cartItems.filter((element) => element.id !== action.id)\r\n    };\r\n  default:\r\n    return state;\r\n  }\r\n}\r\n\r\nexport default cartItems;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport productItems from './productItems';\r\nimport cartItems from './cartItems';\r\n\r\nlet rootReducer = combineReducers({\r\n  productItems,\r\n  cartItems\r\n});\r\n\r\nexport default rootReducer;","import axios from 'axios';\r\nimport { put, takeLatest, all } from 'redux-saga/effects'\r\nconst URL = \"https://raw.githubusercontent.com/sraksh/sHOPcart/master/src/data/products.json\";\r\n\r\nfunction* fetchProducts() {\r\n  const res = yield axios.get(URL).then((response) => response);\r\n  yield put({\r\n    type: 'FETCH_PRODUCTS',\r\n    payload: res\r\n  })\r\n}\r\n\r\nfunction* actionWatcher() {\r\n  yield takeLatest('GET_PRODUCTS', fetchProducts)\r\n  //telling saga to wait for GET_PRODUCTS to get dispatched from component, \r\n  // Once GET_PRODUCTS is dispatched, fetchProducts is called where api call is made\r\n}\r\n\r\nexport default function* rootSaga() {\r\n  yield all([\r\n    actionWatcher(),\r\n  ]);\r\n}","//https://raw.githubusercontent.com/sraksh/sHOPcart/master/src/data/products.js\r\n\r\nimport { createStore, applyMiddleware, compose  } from 'redux';\r\nimport rootReducer from '../reducers';\r\nimport { logger } from 'redux-logger';\r\n// import thunk from 'redux-thunk';\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport rootSaga from '../sagas/saga'\r\n// create an object for the default data\r\nconst defaultState = {\r\n  \r\n};\r\n\r\nconst sagaMiddleware = createSagaMiddleware()\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst enhancer = composeEnhancers(\r\n  applyMiddleware(sagaMiddleware, logger),\r\n  // other store enhancers if any\r\n);\r\n\r\n// CREATE STORE\r\nconst store = createStore(\r\n  rootReducer,\r\n  defaultState,\r\n  // applyMiddleware(thunk),\r\n  enhancer\r\n);\r\nsagaMiddleware.run(rootSaga)\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './store';\nimport { Provider } from 'react-redux';\n\nconst wrapper = (\n  <Provider store={store}>\n    <App></App>\n  </Provider>\n);\n\nReactDOM.render(wrapper, document.getElementById('root'));"],"sourceRoot":""}